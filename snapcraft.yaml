name: omegat-cat
version: 4.1.0-0
confinement: strict
epoch: 0
grade: stable

summary: OmegaT, the free (GPL) translation memory tool
description: |
  OmegaT is a free translation memory application written in Java.
  It is a tool intended for professional translators. It does not translate
  for you! (Software that does this is called "machine translation", and you
  will have to look elsewhere for it.)

apps:
  omegat:
    command: desktop-launch omegat
    plugs: [home, network, unity7]

parts:
  omegat:
    plugin: dump
    source: OmegaT_4.1.0_Beta_Linux_64
    snap:
      - OmegaT
      - OmegaT.jar
      - docs
      - images
      - lib
      - plugins
      - scripts
    after:
      - desktop-gtk2
      - runtime

  runtime:
    plugin: nil
    stage-packages:
      - openjdk-8-jre
      - ca-certificates-java
      - fonts-dejavu-extra
    snap:
      - -var
      - -usr/share/bash-completion
      - -usr/share/bug
      - -usr/share/doc
      - -usr/share/doc-base
      - -usr/share/lintian
      - -usr/share/man
    stage:
      - -usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/cacerts

  launcher:
    plugin: dump
    source: launcher
    organize:
      omegat.wrapper: bin/omegat

  cacerts:
    plugin: dump
    source: cacerts
    organize:
      cacerts: usr/lib/jvm/java-8-openjdk-amd64/jre/lib/security/

  desktop-gtk2:
    snap:
      - -var
      - -usr/share/bash-completion
      - -usr/share/bug
      - -usr/share/doc
      - -usr/share/doc-base
      - -usr/share/lintian
      - -usr/share/man
